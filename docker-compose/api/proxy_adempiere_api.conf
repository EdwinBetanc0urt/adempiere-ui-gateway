# Proxy ADempiere API
#
location /api/ {
    # Policy configuration here (authentication, rate limiting, logging...)
    #
    access_log /var/log/nginx/proxy_adempiere_api.log main;
    
    if ($request_method = OPTIONS) {
        return 204;
    }
    
    add_header Access-Control-Allow-Origin *;
    add_header Access-Control-Max-Age 3600;
    add_header Access-Control-Expose-Headers Content-Length;
    add_header Access-Control-Allow-Headers Range;

    location /api/common/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/common/;
    }

    location /api/common/api/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/common/api/;
    }

    location /api/dashboard/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/dashboard/;
    }

    location /api/dashboard/addons/user/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/dashboard/addons/user/;
    }

    location /api/dashboard/addons/tasks/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/dashboard/addons/tasks/;
    }

    location /api/dashboard/addons/charts/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/dashboard/addons/charts/;
    }

    location /api/dashboard/window/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/dashboard/window/;
    }

    location /api/dictionary/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/dictionary/;
    }

    location /api/dictionary/search-info/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/dictionary/search-info/;
    }

    location /api/general-ledger/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/general-ledger/;
    }

    location /api/general-ledger/accouting-combination/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/general-ledger/accouting-combination/;
    }

    location /api/material-management/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/material-management/;
    }

    location /api/material-management/product-attribute/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/material-management/product-attribute/;
    }

    location /api/material-management/warehouse-locator/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/material-management/warehouse-locator/;
    }

    location /api/user/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user/;
    }

    location /api/user/enrollment/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user/enrollment/;
    }

    location /api/user/log/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user/log/;
    }

    location /api/user/open-id/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user/open-id/;
    }

    location /api/workflow/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/workflow/;
    }

    location /api/user-customization/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-customization/;
    }

    location /api/user-customization/browse/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-customization/browse/;
    }

    location /api/user-customization/process/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-customization/process/;
    }

    location /api/user-customization/window/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-customization/window/;
    }

    location /api/user-interface/common/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/common/;
    }

    location /api/user-interface/window/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/window/;
    }

    location /api/user-interface/smart-browser/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/smart-browser/;
    }

    location /api/user-interface/process/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/process/;
    }

    location /api/user-interface/component/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/component/;
    }

    location /api/user-interface/component/issue/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/component/issue/;
    }

    location /api/user-interface/component/notes/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/component/notes/;
    }

    location /api/user-interface/component/preference/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/component/preference/;
    }

    location /api/user-interface/component/private-access/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/component/private-access/;
    }

    location /api/user-interface/component/record-access/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/component/record-access/;
    }

    location /api/user-interface/component/resource/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/component/resource/;
    }

    location /api/user-interface/component/tab-sequence/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/component/tab-sequence/;
    }

    location /api/user-interface/component/translation/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/component/translation/;
    }

    location /api/user-interface/component/tree/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/user-interface/component/tree/;
    }

    location /api/form/addons/bank-statement-match/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/bank-statement-match/;
    }

    location /api/form/addons/express-movement/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/express-movement/;
    }

    location /api/form/addons/express-receipt/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/express-receipt/;
    }

    location /api/form/addons/express-shipment/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/express-shipment/;
    }

    location /api/form/addons/import-file-loader/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/import-file-loader/;
    }

    location /api/form/addons/v-match/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/v-match/;
    }

    location /api/form/addons/payment-allocation/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/payment-allocation/;
    }

    location /api/form/addons/payment-print-export/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/payment-print-export/;
    }

    location /api/form/addons/payroll-action-notice/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/payroll-action-notice/;
    }

    location /api/form/addons/point-of-sales/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/point-of-sales/;
    }

    location /api/form/addons/point-of-sales/command-shortcut/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/point-of-sales/command-shortcut/;
    }

    location /api/form/addons/point-of-sales/order/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/point-of-sales/order/;
    }

    location /api/form/addons/point-of-sales/return-material/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/point-of-sales/return-material/;
    }

    location /api/form/addons/point-of-sales/return-material/line/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/point-of-sales/return-material/line/;
    }

    location /api/form/addons/point-of-sales/credit-memo/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/point-of-sales/credit-memo/;
    }

    location /api/form/addons/time-control/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/time-control/;
    }

    location /api/form/addons/time-record/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/form/addons/time-record/;
    }

    location /api/grid/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/grid/;
    }

    location /api/business-partner/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/business-partner/;
    }

    location /api/in-out/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/in-out/;
    }

    location /api/invoice/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/invoice/;
    }

    location /api/order/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/order/;
    }

    location /api/payment/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/payment/;
    }

    location /api/product/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/product/;
    }

    location /api/record-management/ {
        proxy_pass http://proxy_adempiere_api/api/adempiere/record-management/;
    }


    return 404; # Catch-all
}
